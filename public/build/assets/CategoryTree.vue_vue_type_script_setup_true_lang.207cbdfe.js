import{d as f,P as k,ap as I,k as E,aq as b,ar as T,v as A,Q as x,I as B,C as a,D as d,z as t,K as $,N as g,B as o,R as N,F as s,G as y,H as i,y as n,as as v,L as c,at as K,T as R}from"./app.e03ca4d4.js";/* empty css                *//* empty css                    */import{B as S}from"./Breadcrumb.2244785c.js";const V={class:"card-header"},w={class:"mb-2"},D={data(){return{categoryTreeKey:1,isExpandAll:!1,highlightCurrent:!0,categoryId:null,dataTree:null,expandedId:null}},props:["categories"],mounted(){this.categoryId=this.parent,this.dataTree=this.categories,this.expandedId=this.parent},methods:{collapseAll(){this.expandedId=null,this.isExpandAll=!1,this.categoryTreeKey+=1},expandAll(){this.expandedId=null,this.isExpandAll=!0,this.categoryTreeKey+=1},createMainCategory(){alert("create main category")},categoryClick(r){this.categoryId=r.id,this.expandedId=null,g.Inertia.visit(route("category.edit",{category:this.categoryId}));let e={id:r.id,name:r.label,description:r.description};this.$store.dispatch({type:"category/clickOnCategory",category:e})},createRootCategory(){this.collapseAll(),this.categoryId=null,this.$store.dispatch({type:"category/clickOnCategory",category:{id:null,name:null,description:null}}),this.createTheCategory()},createTheCategory(){g.Inertia.visit(route("category.create"),{method:"get"})},createSubCategory(){this.categoryId=this.$store.getters["category/parent"],this.createTheCategory()}},computed:{parent(){return this.$store.getters["category/parent"]},expanded(){return!!this.isExpandAll},category(){return this.$store.getters["category/category"]}}},G=f({...D,__name:"CategoryTree",setup(r){return(e,F)=>{const h=k,u=I,l=E,m=b,p=T,_=A,C=x;return o(),B($,null,[a(d(N),{title:e.$t("Categories")},null,8,["title"]),a(S,null,{default:t(()=>[a(h,{to:{path:"/"}},{default:t(()=>[s(y(e.$t("Categories")),1)]),_:1})]),_:1}),a(C,{class:"box-card mt-4 custom-card"},{header:t(()=>[i("div",V,[i("span",null,y(e.$t("Categories")),1)])]),default:t(()=>[a(_,null,{default:t(()=>[a(p,{span:8},{default:t(()=>[i("div",w,[e.expanded?(o(),n(l,{key:0,onClick:e.collapseAll},{default:t(()=>[a(u,null,{default:t(()=>[a(d(v))]),_:1})]),_:1},8,["onClick"])):c("",!0),e.expanded?c("",!0):(o(),n(l,{key:1,onClick:e.expandAll},{default:t(()=>[a(u,null,{default:t(()=>[a(d(K))]),_:1})]),_:1},8,["onClick"])),a(l,{onClick:e.createRootCategory},{default:t(()=>[s(" Root ")]),_:1},8,["onClick"]),e.categoryId?(o(),n(l,{key:2,onClick:e.createSubCategory},{default:t(()=>[s(" Sub ")]),_:1},8,["onClick"])):c("",!0)]),(o(),n(m,{data:e.dataTree,onNodeClick:e.categoryClick,"default-expand-all":e.isExpandAll,key:e.categoryTreeKey,"default-expanded-keys":[e.expandedId],"highlight-current":e.highlightCurrent,"current-node-key":e.expandedId,accordion:"","node-key":"id"},null,8,["data","onNodeClick","default-expand-all","default-expanded-keys","highlight-current","current-node-key"]))]),_:1}),a(p,{span:16},{default:t(()=>[R(e.$slots,"default")]),_:3})]),_:3})]),_:3})],64)}}});export{G as _};
