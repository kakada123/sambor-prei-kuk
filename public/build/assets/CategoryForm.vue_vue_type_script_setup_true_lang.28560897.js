import{d as X,e as c,r as V,f as x,V as i,i as Y,m as Z,j as ee,p as te,q as ae,s as oe,k as se,v as le,x as re,y as m,z as s,A as ne,B as u,C as n,D as o,ao as ue,L as _,I as T,J as ce,K as ie,F as k,G as F,u as D,U as pe,N as me,W as R,O as S}from"./app.9ecc61f7.js";/* empty css                     */const ye=X({__name:"CategoryForm",setup(de){const C=c(()=>D().props.value.langs),E=c(()=>D().props.value.category),g=c(()=>q.getters["category/parent"]),p=c(()=>q.getters["category/categoryName"]),w="km",U=V(w),q=ne(),N=route().current(),A=V("top"),y=V();let d={is_active:!0,parent:g.value,parentName:p.value};C.value.forEach(t=>{let e="name_"+t.locale,r="description_"+t.locale;d[e]="",d[r]=""});const L=(t,e)=>{console.log(t,e)},$=c(()=>N==="category.edit"),B=c(()=>N==="category.create");$.value&&(d=x(E.value));const l=x(d),I=i("app.please_input_category_name"),M=Y({name_en:[{required:!0,message:I,trigger:"blur"}],name_km:[{required:!0,message:I,trigger:"blur"}]}),O=()=>{S({title:i("app.success"),message:i("app.create_category_success"),type:"success"})},P=async t=>{!t||await t.validate((e,r)=>{e?l.post(route("category.store"),{onFinish:O()}):console.log("error submit!",r)})},j=()=>{S({title:i("app.success"),message:i("app.update_category_success"),type:"success"})},K=async t=>{!t||await t.validate((e,r)=>{e?l.post(route("category.update",{category:E.value.category_id}),{onFinish:j()}):console.log("error submit!",r)})},W=t=>w===t,z=()=>{pe.confirm(i("app.confirm_delete_message"),"Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(()=>{me.Inertia.visit(route("category.destroy",{category:g.value})),R({type:"success",message:"Delete completed"})}).catch(()=>{R({type:"info",message:"Delete canceled"})})};return(t,e)=>{const r=Z,f=ee,G=te,J=ae,h=oe,v=se,H=le,Q=re;return u(),m(Q,{modelValue:U.value,"onUpdate:modelValue":e[5]||(e[5]=a=>U.value=a),class:"category-tabs",onTabClick:L},{default:s(()=>[n(J,{model:o(l),"label-position":A.value,rules:M,ref_key:"categoryForm",ref:y,"label-width":"120px","require-asterisk-position":"right"},{default:s(()=>[o(B)&&o(p)?(u(),m(f,{key:0,label:t.$t("app.parent")},{default:s(()=>[n(r,{modelValue:o(p),"onUpdate:modelValue":e[0]||(e[0]=a=>ue(p)?p.value=a:null),disabled:!0},null,8,["modelValue"])]),_:1},8,["label"])):_("",!0),(u(!0),T(ie,null,ce(o(C),a=>(u(),T("div",null,[n(G,{label:a.name,name:a.locale},{default:s(()=>[n(f,{label:t.$t("app.name_"+a.locale),required:W(a.locale),prop:"name_"+a.locale},{default:s(()=>[n(r,{modelValue:o(l)["name_"+a.locale],"onUpdate:modelValue":b=>o(l)["name_"+a.locale]=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label","required","prop"]),n(f,{label:t.$t("app.description_"+a.locale)},{default:s(()=>[n(r,{rows:2,required:"",type:"textarea",modelValue:o(l)["description_"+a.locale],"onUpdate:modelValue":b=>o(l)["description_"+a.locale]=b},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["label"])]),_:2},1032,["label","name"])]))),256))]),_:1},8,["model","label-position","rules"]),n(H,null,{default:s(()=>[n(h,{modelValue:o(l).is_active,"onUpdate:modelValue":e[1]||(e[1]=a=>o(l).is_active=a),"active-text":"Active","inactive-text":"InActive",class:"mr-2"},null,8,["modelValue"]),o(B)?(u(),m(v,{key:0,type:"success",plain:"",class:"me-2",onClick:e[2]||(e[2]=a=>P(y.value))},{default:s(()=>[k(F(t.$t("app.save")),1)]),_:1})):_("",!0),o($)?(u(),m(v,{key:1,type:"success",plain:"",class:"me-2",onClick:e[3]||(e[3]=a=>K(y.value))},{default:s(()=>[k(F(t.$t("app.update")),1)]),_:1})):_("",!0),o(g)!=null?(u(),m(v,{key:2,type:"danger",plain:"",class:"me-2",onClick:e[4]||(e[4]=a=>z())},{default:s(()=>[k(F(t.$t("app.delete")),1)]),_:1})):_("",!0)]),_:1})]),_:1},8,["modelValue"])}}});export{ye as _};
